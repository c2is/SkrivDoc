<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Bigfoot's documentation</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

    <link rel="stylesheet" href="../css/normalize.min.css">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/font-awesome.css">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body id="top">
<div class="header-container">
    <header class="wrapper clearfix">
        <h1 class="title">Bigfoot's documentation</h1>
    </header>
</div>

<div class="main-container">
    <div class="main wrapper clearfix">
        <aside id="toc">
            <ul class="toc-list">
<li class="toc-entry">
<a href="#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="#Generating-CRUD-in-Bigfoot">Generating CRUD in Bigfoot</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry">
<a href="#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="#Adding-a-menu-in-Bigfoot">Adding a menu in Bigfoot</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </aside>
        <article id="page">
            <header>

            </header>

            <p>How to use our framework to build easily a website test</p>

<hr />


<h4 id="Generating-CRUD-in-Bigfoot">Generating CRUD in Bigfoot</h4>
<ul>
<li>Have an existing doctrine entity (in the Entity/ folder in a Bundle) by creating it yourself or using the generate:doctrine:entity command
</li>
<li>use generate:bigfoot:crud. It works exactly like doctrine:generate:crud (It actually extends that command and uses its own templates to generate files)
</li>
<li>A controller extending Bigfoot\Bundle\CoreBundle\Crud\CrudController will be generated in the Controller/ folder of your bundle. A FormType for your entity will also be generated if not existing.
</li>
<li>The routing isn't generated! You need to add the newly created Controller in your relevent routing configuration file(s) (usually will be app/config/routing_admin.yml)
</li>
<li>The menu isn't generated (yet?)! Your form and controller are generated and you edited your routing configuration and it all works if you type in the URL directly. But you need to add a menu to your CRUD screens to the Bigfoot administration interface menu.</li></ul>


<h4 id="Adding-a-menu-in-Bigfoot">Adding a menu in Bigfoot</h4>
<p>Menu items in Bigfoot are added by Listeners. It allows any Bundle to register its own menu items  that will aggregate with other items added by other bundles.</p>
<ul>
<li>Create a Listener :
<ul><li>Listeners must be located in a Listener/ folder in your bundle and listen on the &quot;bigfoot.menu.generate&quot; event.
</li>
<li>This event uses the Bigfoot\Bundle\CoreBundle\Event\MenuEvent class to provide the menu to the listener.
</li>
<li>The event is thrown by Bigfoot everytime it instanciates a menu somewhere. Simply adding your item on the given menu will add it on every menu in the administration interface. To add your item only to a specific menu, you must test the menu name.
</li>
<li>On your standard, v0 Bigfoot interface, menus used are :
<ul><li>sidebar_menu: The main menu located in the left sidebar.
</li>
<li>toolbar_menu: The menu located in the toolbar, used to display user informations and user settings links.
</li>
<li>actions_menu: Menu used in listings to allow for custom actions on the current list (add item, export ...)</li></ul>
</li></ul>
</li></ul>


<p>Example :</p>
<pre class="language-php"><ol><li class="li1"><div class="de1">	Acme/Bundle/MyBundle/Listener/MenuListener.php</div></li><li class="li1"><div class="de1">	<span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="kw2">namespace</span> Acme\BundleMyBundle\Listener<span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="kw2">use</span> Bigfoot\Bundle\CoreBundle\Event\MenuEvent<span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="kw2">use</span> Bigfoot\Bundle\CoreBundle\Theme\Menu\Item<span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="kw2">class</span> MenuListener</div></li><li class="li1"><div class="de1">	<span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">	    <span class="co4">/**</span></div></li><li class="li1"><div class="de1"><span class="co4">	     * @param MenuEvent $event</span></div></li><li class="li1"><div class="de1"><span class="co4">	     */</span></div></li><li class="li1"><div class="de1">	    <span class="kw2">public</span> <span class="kw2">function</span> onMenuGenerate<span class="br0">&#40;</span>MenuEvent <span class="re0">$event</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">	    <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">	        <span class="re0">$menu</span> <span class="sy0">=</span> <span class="re0">$event</span><span class="sy0">-&gt;</span><span class="me1">getMenu</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	        <span class="kw1">if</span> <span class="br0">&#40;</span><span class="st_h">'sidebar_menu'</span> <span class="sy0">==</span> <span class="re0">$menu</span><span class="sy0">-&gt;</span><span class="me1">getName</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">	            <span class="re0">$navigation</span> <span class="sy0">=</span> <span class="kw2">new</span> Item<span class="br0">&#40;</span><span class="st_h">'sidebar_mymenu'</span><span class="sy0">,</span> <span class="st_h">'My menu'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	            <span class="re0">$navigation</span><span class="sy0">-&gt;</span><span class="me1">addChild</span><span class="br0">&#40;</span><span class="kw2">new</span> Item<span class="br0">&#40;</span><span class="st_h">'sidebar_mymenu_mysubmenu'</span><span class="sy0">,</span> <span class="st_h">'My submenu'</span><span class="sy0">,</span> <span class="st_h">'my_route'</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	            <span class="re0">$menu</span><span class="sy0">-&gt;</span><span class="me1">addItem</span><span class="br0">&#40;</span><span class="re0">$navigation</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	        <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">	    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li></ol></pre>

<pre class="language-yml"><ol><li class="li1"><div class="de1">	Acme/Bundle/MyBundle/Resources/config/services.yml</div></li><li class="li1"><div class="de1">	kernel.listener.my_menu_listener:</div></li><li class="li1"><div class="de1">	        class: Acme/Bundle/MyBundle/Listener/MenuListener</div></li><li class="li1"><div class="de1">	        tags:</div></li><li class="li1"><div class="de1">	            - { name: kernel.event_listener, event: bigfoot.menu.generate, method: onMenuGenerate }</div></li></ol></pre>


            <footer>

            </footer>
        </article>


    </div> <!-- #main -->

</div> <!-- #main-container -->

<div class="footer-container">
    <footer class="wrapper">

    </footer>
</div>

</body>
</html>